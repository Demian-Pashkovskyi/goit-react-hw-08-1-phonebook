"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[164],{6164:function(n,e,t){t.r(e),t.d(e,{default:function(){return kn}});var i,r=t(2007),o=t.n(r),a=t(5228),s=t(168),d=t(6088),l=d.Z.h2(i||(i=(0,s.Z)(["\n  font-size: 32px;\n  margin-bottom: 8px;\n"]))),c=t(184),u=function(n){var e=n.title,t=n.children;return(0,c.jsxs)(a.x,{as:"section",p:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(l,{children:e}),t]})};u.propType={title:o().string.isRequired,children:o().object};var p,x,m,f,h,b,g,v,j,Z,w,y,k,C,S,A=t(1413),q=t(885),z=t(2791),E=t(4259),M=t(8584),F=t(5985),L=t(9541),T=function(n){var e=n.fs,t=n.fw,i=n.lh;return"\n  font-size: ".concat(e?"".concat(e,"px"):"16px",";\n  font-weight: ").concat(t||500,";\n  line-height: ").concat(i?Number(i/e).toFixed(2):1.5,";")},N=d.Z.form(p||(p=(0,s.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: space-between;\n\tmax-width: 400px;\n\tpadding: 20px;\n\tborder-radius: 10px;\n\tbackground-color: rgb(227, 227, 238);\n\tbox-shadow: 0px 1px 3px rgba(0, 0, 0, 0.22), 0px 2px 2px rgba(0, 0, 0, 0.24), 0px 2px 1px rgba(0, 0, 0, 0.32);\n"]))),I=d.Z.label(x||(x=(0,s.Z)(["\n",";\ndisplay: block;\nmargin-bottom: 10px;\n"])),T({fs:16,fw:700,lh:20})),R=d.Z.input(m||(m=(0,s.Z)(["\n\tborder: 0;\n\toutline: 0;\n\twidth: 100%;\n\tmargin-bottom: 10px;\n\tborder-radius: 10px;\n\tpadding: 10px;\n\tbackground-color: #ebedf3;\n\t",";\n\tbox-shadow: inset 2px 2px 5px #a1a6b8,\n\t\tinset -5px -5px 10px #ffffff;\n\ttransition: all 0.2s ease-in-out;\n\tappearance: none;\n"])),T({fs:16,fw:400,lh:20})),P=(d.Z.p(f||(f=(0,s.Z)(["\n\t",";\n\tcolor: #e3f6f6f7;\n\tdisplay: block;\n\tmargin-bottom: 4px;\n"])),T({fs:14,fw:400,lh:16})),d.Z.label(h||(h=(0,s.Z)(["\n",";\ndisplay: flex;\nflex-direction: column;\ngap: 16px;\n  margin-bottom: 24px;\n"])),T({fs:16,fw:700,lh:20})),d.Z.p(b||(b=(0,s.Z)(["\n  color: red;\n"])))),B=function(){var n,e,t,i,r=(0,M.wY)().data,o=(0,M.Lr)(),a=(0,q.Z)(o,2),s=a[0],d=a[1],l=d.isLoading,u=d.isSuccess,p=d.isError,x=(0,E.cI)({defaultValues:{name:"",number:""}}),m=x.register,f=x.handleSubmit,h=x.watch,b=x.formState.errors,g=x.resetField,v=h("name"),j=h("number"),Z=function(n){return r.find((function(e){return e.name===n}))};return(0,z.useEffect)((function(){u&&F.Am.success("Contact added"),p&&F.Am.error("Oops!! Something went wrong!")}),[u,p]),(0,c.jsxs)(N,{onSubmit:f((function(){!function(n){Z(n.name)?F.Am.warn("".concat(n.name," is already in contacts.")):(s(n),g("name"),g("number"))}({name:v,number:j})})),autoComplete:"off",children:[l,(0,c.jsxs)(I,{children:[(0,c.jsx)("span",{children:"Name"}),(0,c.jsx)(R,(0,A.Z)({placeholder:"John",value:v,type:"text"},m("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),(null===(n=b.name)||void 0===n?void 0:n.message)&&(0,c.jsx)(P,{children:null===(e=b.name)||void 0===e?void 0:e.message})]}),(0,c.jsxs)(I,{children:[(0,c.jsx)("span",{children:"Number"}),(0,c.jsx)(R,(0,A.Z)((0,A.Z)({placeholder:"1234567890",value:j},m("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}})),{},{type:"tel"})),(null===(t=b.number)||void 0===t?void 0:t.message)&&(0,c.jsx)(P,{children:null===(i=b.number)||void 0===i?void 0:i.message})]}),(0,c.jsx)(L.Z,{type:"submit",variant:"contained",children:"Add contact"})]})},D=t(5048),J=t(4494),V=t(5243),Y=t(4164),_=t(8789),O=_.ZP.div(g||(g=(0,s.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),W=_.ZP.div(v||(v=(0,s.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),G=document.querySelector("#modal-root"),$=function(n){var e=n.children,t=n.closeModal;(0,z.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));return(0,Y.createPortal)((0,c.jsx)(O,{onClick:function(n){n.currentTarget===n.target&&t()},children:(0,c.jsx)(W,{children:e})}),G)},K=t(9135),Q=d.Z.div(j||(j=(0,s.Z)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  width: 400px;\n  min-height: 300px;\n  gap: 40px;\n  padding: 20px;\n  border-radius: 10px;\n  background-color: gray;\n"]))),H=d.Z.form(Z||(Z=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  width: 100%;\n"]))),U=d.Z.label(w||(w=(0,s.Z)(["\n  width: 100%;\n"]))),X=d.Z.input(y||(y=(0,s.Z)(["\n  border: none;\n  padding: 5px 10px;\n  margin-bottom: 5px;\n  width: 100%;\n  height: 40px;\n  border-radius: 10px;\n"]))),nn=d.Z.div(k||(k=(0,s.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: grey;\n  border-radius: 10px;\n"]))),en=d.Z.button(C||(C=(0,s.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 10px;\n  border: none;\n  outline: 2px solid green;\n  border-radius: 10px;\n  height: 40px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    background-color: green;\n    color: white;\n  }\n"]))),tn=(0,d.Z)(K.ZyS)(S||(S=(0,s.Z)(["\n  position: absolute;\n  top: 5%;\n  right: 5%;\n  width: 25px;\n  height: 25px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    color: red;\n  }\n"]))),rn=function(n){var e,t,i=n.contactData,r=n.closeModal,o=(0,M.i)(),s=(0,q.Z)(o,2),d=s[0],l=s[1],u=l.isLoading,p=l.isSuccess,x=l.isError,m=(0,E.cI)(),f=m.register,h=m.handleSubmit,b=m.formState.errors;return(0,z.useEffect)((function(){p&&(F.Am.success("Contact edited"),r()),x&&F.Am.error("Oops!! Something went wrong!")}),[r,x,p]),(0,c.jsxs)(Q,{children:[(0,c.jsx)(tn,{onClick:r}),u?(0,c.jsx)(nn,{children:(0,c.jsx)(V.Bb,{})}):(0,c.jsxs)(H,{onSubmit:h((function(n){d([i.id,(0,A.Z)({},n)])})),autoComplete:"off",children:[(0,c.jsx)("h2",{children:"Edit contact"}),(0,c.jsxs)(U,{children:[(0,c.jsx)(a.x,{mb:2,children:"Name"}),(0,c.jsx)(X,(0,A.Z)({defaultValue:null===i||void 0===i?void 0:i.name},f("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),b.name&&(0,c.jsx)("div",{style:{color:"#cb0f0f"},children:null===(e=b.name)||void 0===e?void 0:e.message})]}),(0,c.jsxs)(U,{children:[(0,c.jsx)(a.x,{mb:2,children:"Number"}),(0,c.jsx)(X,(0,A.Z)({defaultValue:null===i||void 0===i?void 0:i.number},f("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}}))),b.number&&(0,c.jsx)("div",{style:{color:"#cb0f0f"},children:null===(t=b.name)||void 0===t?void 0:t.message})]}),(0,c.jsx)(en,{type:"submit",children:"Submit"})]})]})};rn.propType={contactData:o().object.isRequired,closeModal:o().func.isRequired};var on,an,sn,dn,ln=t(383),cn=t(1286),un=d.Z.li(on||(on=(0,s.Z)(["\n  display: flex;\n  align-items: center;\n"]))),pn=d.Z.button(an||(an=(0,s.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 13px;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n  &:hover:not([disabled]) {\n    background-color: #61dafb;\n  }\n"]))),xn=function(n){var e=n.id,t=n.name,i=n.number,r=n.openModal,o=(0,M.W1)(),s=(0,q.Z)(o,2),d=s[0],l=s[1],u=l.isSuccess,p=l.isLoading,x=l.isError;return(0,z.useEffect)((function(){u&&F.Am.success("Contact deleted"),x&&F.Am.error("Oops!! Something went wrong!")}),[u,x]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(a.x,{display:"flex",justifyContent:"space-between",gridGap:"10px",children:[(0,c.jsxs)(un,{children:[t,": ",i]}),(0,c.jsxs)(a.x,{display:"flex",gridGap:"10px",children:[(0,c.jsx)(pn,{type:"button",onClick:function(){r(e)},children:(0,c.jsx)(cn.Z,{fontSize:"small",style:{color:"blue"}})}),(0,c.jsx)(pn,{type:"button",onClick:function(){return d(e)},disabled:p,children:p?(0,c.jsx)(V.iT,{height:10,width:10,color:"red",visible:!0,ariaLabel:"oval-loading",secondaryColor:"red",strokeWidth:10,strokeWidthSecondary:10}):(0,c.jsx)(ln.Z,{fontSize:"small",style:{color:"red"}})})]})]})})};xn.propType={id:o().string.isRequired,name:o().string.isRequired,number:o().string.isRequired,openModal:o().func.isRequired};var mn,fn,hn,bn=d.Z.ul(sn||(sn=(0,s.Z)(["\ndisplay: flex;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  gap: 10px;\n  border: 1px solid white;\n  width: 400px;\n  min-height: 100px;\nborder-radius: 10px;\npadding: 12px;\nbackground-color: #f5f5fa;\nbox-shadow: 0px 1px 3px rgba(0, 0, 0, 0.22), 0px 2px 2px rgba(0, 0, 0, 0.24),\n\t0px 2px 1px rgba(0, 0, 0, 0.32);\n"]))),gn=d.Z.div(dn||(dn=(0,s.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: #808080e3;\n"]))),vn=function(){var n=(0,z.useState)(!1),e=(0,q.Z)(n,2),t=e[0],i=e[1],r=(0,z.useState)(null),o=(0,q.Z)(r,2),a=o[0],s=o[1],d=(0,M.wY)(),l=d.data,u=d.isFetching,p=(0,D.v9)(J.YI),x=null===l||void 0===l?void 0:l.filter((function(n){return n.name.toLowerCase().includes(p)})),m=function(){i(!1),window.document.body.style.overflow="unset"};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(bn,{children:[u&&(0,c.jsx)(gn,{children:(0,c.jsx)(V.Bb,{width:"70",height:"70",color:"#61dafb",radius:"9",ariaLabel:"loading"})}),null!==x&&void 0!==x&&x.length?x.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,c.jsx)(xn,{id:e,name:t,number:r,openModal:function(){return n={id:e,name:t,number:r},i(!0),s(n),void(window.document.body.style.overflow="hidden");var n}},e)})):(0,c.jsx)("li",{children:"No contacts"})]}),t&&(0,c.jsx)($,{closeModal:m,children:(0,c.jsx)(rn,{contactData:a,closeModal:m})})]})},jn=d.Z.label(mn||(mn=(0,s.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 16px;\n  width: 400px;\n"]))),Zn=d.Z.input(fn||(fn=(0,s.Z)(["\n\tborder: 0;\n\toutline: 0;\n\twidth: 100%;\n\tborder-radius: 20px;\n\tpadding: 10px;\n\tbackground-color: #ebedf3;\n\t",";\n\t// box-shadow: inset 2px 2px 5px #a1a6b8,\n\t// \tinset -5px -5px 10px #ffffff;\n\t// transition: all 0.2s ease-in-out;\n\t// appearance: none;\n"])),T({fs:16,fw:500,lh:20})),wn=d.Z.div(hn||(hn=(0,s.Z)(["\n\tmargin-bottom: 20px;\n"]))),yn=function(){var n=(0,E.cI)().control,e=(0,D.v9)(J.YI),t=(0,D.I0)(),i=function(n){t((0,J.KJ)(n.target.value))};return(0,c.jsx)(wn,{children:(0,c.jsxs)(jn,{children:[(0,c.jsx)("span",{children:"Find contacts by name"}),(0,c.jsx)(E.Qr,{render:function(n){var t=n.field;return(0,c.jsx)(Zn,(0,A.Z)((0,A.Z)({},t),{},{onChange:i,value:e}))},name:"filter",control:n,defaultValue:""})]})})},kn=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{title:"Phonebook",children:(0,c.jsx)(B,{})}),(0,c.jsxs)(u,{title:"Contacts",children:[(0,c.jsx)(yn,{}),(0,c.jsx)(vn,{})]})]})}}}]);
//# sourceMappingURL=164.5c68ac7e.chunk.js.map