"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[164],{6164:function(n,e,t){t.r(e),t.d(e,{default:function(){return Zn}});var i,r=t(2007),o=t.n(r),s=t(5228),a=t(168),d=t(6088),l=d.Z.h2(i||(i=(0,a.Z)(["\n  font-size: 32px;\n  margin-bottom: 8px;\n"]))),c=t(184),u=function(n){var e=n.title,t=n.children;return(0,c.jsxs)(s.x,{as:"section",p:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",children:[(0,c.jsx)(l,{children:e}),t]})};u.propType={title:o().string.isRequired,children:o().object};var p,x,m,h,f,g,b,v,j,Z,y,w,k,C=t(1413),S=t(885),A=t(2791),q=t(4259),z=t(8584),E=t(5985),L=t(5243),M=t(9541),F=d.Z.form(p||(p=(0,a.Z)(["\n  position: relative;\n  border: 1px solid black;\n  width: 400px;\n  padding: ","px;\n"])),(function(n){return n.theme.space[4]})),T=d.Z.label(x||(x=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: ","px;\n  margin-bottom: ","px;\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.space[4]})),N=d.Z.p(m||(m=(0,a.Z)(["\n  color: red;\n"]))),I=d.Z.div(h||(h=(0,a.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: #808080e3;\n"]))),R=function(){var n,e,t,i,r=(0,z.wY)().data,o=(0,z.Lr)(),s=(0,S.Z)(o,2),a=s[0],d=s[1],l=d.isLoading,u=d.isSuccess,p=d.isError,x=(0,q.cI)({defaultValues:{name:"",number:""}}),m=x.register,h=x.handleSubmit,f=x.watch,g=x.formState.errors,b=x.resetField,v=f("name"),j=f("number"),Z=function(n){return r.find((function(e){return e.name===n}))};return(0,A.useEffect)((function(){u&&E.Am.success("Contact added"),p&&E.Am.error("Oops!! Something went wrong!")}),[u,p]),(0,c.jsxs)(F,{onSubmit:h((function(){!function(n){Z(n.name)?E.Am.warn("".concat(n.name," is already in contacts.")):(a(n),b("name"),b("number"))}({name:v,number:j})})),autoComplete:"off",children:[l&&(0,c.jsx)(I,{children:(0,c.jsx)(L.Bb,{color:"#61dafb"})}),(0,c.jsxs)(T,{children:[(0,c.jsx)("span",{children:"Name"}),(0,c.jsx)("input",(0,C.Z)({placeholder:"John",value:v,type:"text"},m("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),(null===(n=g.name)||void 0===n?void 0:n.message)&&(0,c.jsx)(N,{children:null===(e=g.name)||void 0===e?void 0:e.message})]}),(0,c.jsxs)(T,{children:[(0,c.jsx)("span",{children:"Number"}),(0,c.jsx)("input",(0,C.Z)((0,C.Z)({placeholder:"1234567890",value:j},m("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}})),{},{type:"tel"})),(null===(t=g.number)||void 0===t?void 0:t.message)&&(0,c.jsx)(N,{children:null===(i=g.number)||void 0===i?void 0:i.message})]}),(0,c.jsx)(M.Z,{type:"submit",variant:"contained",children:"Add contact"})]})},P=t(5048),B=t(4494),J=t(4164),V=t(8789),Y=V.ZP.div(f||(f=(0,a.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n"]))),_=V.ZP.div(g||(g=(0,a.Z)(["\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n"]))),O=document.querySelector("#modal-root"),W=function(n){var e=n.children,t=n.closeModal;(0,A.useEffect)((function(){var n=function(n){"Escape"===n.code&&t()};return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}}));return(0,J.createPortal)((0,c.jsx)(Y,{onClick:function(n){n.currentTarget===n.target&&t()},children:(0,c.jsx)(_,{children:e})}),O)},D=t(9135),G=d.Z.div(b||(b=(0,a.Z)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  align-items: center;\n  width: 400px;\n  min-height: 300px;\n  gap: 40px;\n  padding: 20px;\n  border-radius: 10px;\n  background-color: gray;\n"]))),$=d.Z.form(v||(v=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 20px;\n  width: 100%;\n"]))),K=d.Z.label(j||(j=(0,a.Z)(["\n  width: 100%;\n"]))),Q=d.Z.input(Z||(Z=(0,a.Z)(["\n  border: none;\n  padding: 5px 10px;\n  margin-bottom: 5px;\n  width: 100%;\n  height: 40px;\n  border-radius: 10px;\n"]))),H=d.Z.div(y||(y=(0,a.Z)(["\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: grey;\n  border-radius: 10px;\n"]))),U=d.Z.button(w||(w=(0,a.Z)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  padding: 5px 10px;\n  border: none;\n  outline: 2px solid green;\n  border-radius: 10px;\n  height: 40px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    background-color: green;\n    color: white;\n  }\n"]))),X=(0,d.Z)(D.ZyS)(k||(k=(0,a.Z)(["\n  position: absolute;\n  top: 5%;\n  right: 5%;\n  width: 25px;\n  height: 25px;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  &:hover {\n    color: red;\n  }\n"]))),nn=function(n){var e,t,i=n.id,r=n.closeModal,o=(0,z.jo)(i),a=o.data,d=o.isLoading,l=(0,z.i)(),u=(0,S.Z)(l,2),p=u[0],x=u[1],m=x.isLoading,h=x.isSuccess,f=x.isError,g=(0,q.cI)(),b=g.register,v=g.handleSubmit,j=g.formState.errors;return(0,A.useEffect)((function(){h&&(E.Am.success("Contact edited"),r()),f&&E.Am.error("Oops!! Something went wrong!")}),[r,f,h]),(0,c.jsxs)(G,{children:[(0,c.jsx)(X,{onClick:r}),d||m?(0,c.jsx)(H,{children:(0,c.jsx)(L.Bb,{})}):(0,c.jsxs)($,{onSubmit:v((function(n){p((0,C.Z)((0,C.Z)({},a),n))})),autoComplete:"off",children:[(0,c.jsx)("h2",{children:"Edit contact"}),(0,c.jsxs)(K,{children:[(0,c.jsx)(s.x,{mb:2,children:"Name"}),(0,c.jsx)(Q,(0,C.Z)({defaultValue:null===a||void 0===a?void 0:a.name},b("name",{required:{value:!0,message:"This field is required"},pattern:{value:/^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$/g,message:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan"}}))),j.name&&(0,c.jsx)("div",{style:{color:"#cb0f0f"},children:null===(e=j.name)||void 0===e?void 0:e.message})]}),(0,c.jsxs)(K,{children:[(0,c.jsx)(s.x,{mb:2,children:"Number"}),(0,c.jsx)(Q,(0,C.Z)({defaultValue:null===a||void 0===a?void 0:a.number},b("number",{required:{value:!0,message:"This field is required"},pattern:{value:/\+?\d{1,4}?[-.\s]?\(?\d{1,3}?\)?[-.\s]?\d{1,4}[-.\s]?\d{1,4}[-.\s]?\d{1,9}/g,message:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +"}}))),j.number&&(0,c.jsx)("div",{style:{color:"#cb0f0f"},children:null===(t=j.name)||void 0===t?void 0:t.message})]}),(0,c.jsx)(U,{type:"submit",children:"Submit"})]})]})};nn.propType={id:o().string.isRequired,closeModal:o().func.isRequired};var en,tn,rn,on,sn=t(383),an=t(1286),dn=d.Z.li(en||(en=(0,a.Z)(["\n  display: flex;\n  align-items: center;\n"]))),ln=d.Z.button(tn||(tn=(0,a.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 8px 13px;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: background-color 0.2s ease-in-out;\n  &:hover:not([disabled]) {\n    background-color: #61dafb;\n  }\n"]))),cn=function(n){var e=n.id,t=n.name,i=n.number,r=n.openModal,o=(0,z.W1)(),a=(0,S.Z)(o,2),d=a[0],l=a[1],u=l.isSuccess,p=l.isLoading,x=l.isError;return(0,A.useEffect)((function(){u&&E.Am.success("Contact deleted"),x&&E.Am.error("Oops!! Something went wrong!")}),[u,x]),(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)(s.x,{display:"flex",justifyContent:"space-between",gridGap:"10px",children:[(0,c.jsxs)(dn,{children:[t,": ",i]}),(0,c.jsxs)(s.x,{display:"flex",gridGap:"10px",children:[(0,c.jsx)(ln,{type:"button",onClick:function(){r(e)},children:(0,c.jsx)(an.Z,{fontSize:"small",style:{color:"blue"}})}),(0,c.jsx)(ln,{type:"button",onClick:function(){return d(e)},disabled:p,children:p?(0,c.jsx)(L.iT,{height:10,width:10,color:"red",visible:!0,ariaLabel:"oval-loading",secondaryColor:"red",strokeWidth:10,strokeWidthSecondary:10}):(0,c.jsx)(sn.Z,{fontSize:"small",style:{color:"red"}})})]})]})})};cn.propType={id:o().string.isRequired,name:o().string.isRequired,number:o().string.isRequired,openModal:o().func.isRequired};var un,pn,xn,mn=d.Z.ul(rn||(rn=(0,a.Z)(["\n  display: flex;\n  position: relative;\n  flex-direction: column;\n  justify-content: center;\n  gap: 10px;\n  border: 1px solid black;\n  width: 400px;\n  min-height: 100px;\n  padding: ","px;\n"])),(function(n){return n.theme.space[4]})),hn=d.Z.div(on||(on=(0,a.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  background-color: #808080e3;\n"]))),fn=function(){var n=(0,A.useState)(!1),e=(0,S.Z)(n,2),t=e[0],i=e[1],r=(0,A.useState)(null),o=(0,S.Z)(r,2),s=o[0],a=o[1],d=(0,z.wY)(),l=d.data,u=d.isFetching,p=(0,P.v9)(B.YI),x=null===l||void 0===l?void 0:l.filter((function(n){return n.name.toLowerCase().includes(p)})),m=function(){i(!1),window.document.body.style.overflow="unset"};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(mn,{children:[u&&(0,c.jsx)(hn,{children:(0,c.jsx)(L.Bb,{width:"70",height:"70",color:"#61dafb",radius:"9",ariaLabel:"loading"})}),null!==x&&void 0!==x&&x.length?x.map((function(n){var e=n.id,t=n.name,r=n.number;return(0,c.jsx)(cn,{id:e,name:t,number:r,openModal:function(){return n={id:e,name:t,number:r},i(!0),a(n),void(window.document.body.style.overflow="hidden");var n}},e)})):(0,c.jsx)("li",{children:"No contacts"})]}),t&&(0,c.jsx)(W,{closeModal:m,children:(0,c.jsx)(nn,{contactData:s,closeModal:m})})]})},gn=d.Z.label(un||(un=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n  margin-bottom: 16px;\n  width: 400px;\n"]))),bn=d.Z.input(pn||(pn=(0,a.Z)(["\n\tborder: 0;\n\toutline: 0;\n\twidth: 100%;\n\tborder-radius: 20px;\n\tpadding: 10px;\n\tbackground-color: #ebedf3;\n\t",";\n\t// box-shadow: inset 2px 2px 5px #a1a6b8,\n\t// \tinset -5px -5px 10px #ffffff;\n\t// transition: all 0.2s ease-in-out;\n\t// appearance: none;\n"])),function(n){var e=n.fs,t=n.fw,i=n.lh;return"\n  font-size: ".concat(e?"".concat(e,"px"):"16px",";\n  font-weight: ").concat(t||500,";\n  line-height: ").concat(i?Number(i/e).toFixed(2):1.5,";")}({fs:16,fw:500,lh:20})),vn=d.Z.div(xn||(xn=(0,a.Z)(["\n\tmargin-bottom: 20px;\n"]))),jn=function(){var n=(0,q.cI)().control,e=(0,P.v9)(B.YI),t=(0,P.I0)(),i=function(n){t((0,B.KJ)(n.target.value))};return(0,c.jsx)(vn,{children:(0,c.jsxs)(gn,{children:[(0,c.jsx)("span",{children:"Find contacts by name"}),(0,c.jsx)(q.Qr,{render:function(n){var t=n.field;return(0,c.jsx)(bn,(0,C.Z)((0,C.Z)({},t),{},{onChange:i,value:e}))},name:"filter",control:n,defaultValue:""})]})})},Zn=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(u,{title:"Phonebook",children:(0,c.jsx)(R,{})}),(0,c.jsxs)(u,{title:"Contacts",children:[(0,c.jsx)(jn,{}),(0,c.jsx)(fn,{})]})]})}}}]);
//# sourceMappingURL=164.dbf34b2e.chunk.js.map